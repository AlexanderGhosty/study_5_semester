# Лабораторная работа 6 - Модульная система и специализированные инструменты

Эта лабораторная работа демонстрирует создание модульной архитектуры Python с различными специализированными инструментами для работы с каталогом товаров, математическими операциями, случайными значениями и локализацией.

## Описание

Проект состоит из взаимосвязанных модулей, демонстрирующих принципы модульного программирования и импорт-цепочки в Python.

## Основные модули

### 1. **`m1_catalog.py`** - Каталог товаров
- Управление каталогом товаров
- Система промокодов и скидок
- Демонстрация импорт-цепочек

### 2. **`m2_orders.py`** - Управление заказами
- Обработка заказов
- Интеграция с каталогом товаров

### 3. **`m3_pricing.py`** - Ценообразование
- Расчет стоимости
- Применение скидок и промокодов

### 4. **`m4_random_tools.py`** - Инструменты случайности
- `pick_random()` - случайный выбор элемента
- `sample_unique()` - уникальная выборка без повторений
- `shuffle_inplace()` - перемешивание на месте
- `random_walk()` - случайное блуждание

### 5. **`m5_math_tools.py`** - Математические утилиты
- `distance_2d()` - расчет расстояния между точками
- `mean_sqrt()` - среднее арифметическое квадратных корней
- `safe_isclose()` - безопасное сравнение чисел с плавающей точкой

### 6. **`m6_locale_tools.py`** - Локализация
- `set_locale()` - установка системной локали
- `format_currency()` - форматирование денежных сумм
- `locale_sort()` - сортировка с учетом локали

### 7. **`m7_decimal_models.py`** - Денежные модели
- Класс `Money` для точной работы с денежными суммами
- Использование `Decimal` для избежания проблем с точностью

## Функциональность

### Импорт-цепочки и промокоды
- Демонстрация сложных импорт-цепочек между модулями
- Система промокодов ("VIP", "DISCOUNT", etc.)
- Расчет итоговой стоимости с учетом скидок

### Работа со случайными значениями
- Случайный выбор элементов из коллекций
- Уникальная выборка без повторений
- Генерация случайных последовательностей
- Алгоритм случайного блуждания

### Математические операции
- Вычисление расстояний в 2D пространстве
- Статистические функции для массивов
- Безопасное сравнение чисел с плавающей точкой

### Локализация и форматирование
- Установка системной локали
- Форматирование валют согласно локали
- Сортировка строк с учетом языковых особенностей

## Запуск

```bash
cd backend/l6
python main.py
```

## Пример вывода

```
== Импорт-цепочка ==
total без промо: 150.00
total c VIP: 127.50

== random ==
pick_random: green
sample_unique: [2, 4, 1]
shuffle_inplace: [3, 1, 4, 2]
random_walk: [(0, 0), (1, 0), (1, 1), (0, 1), (0, 0)]

== math ==
distance_2d: 5.0
mean_sqrt: 2.5
safe_isclose: True

== locale ==
locale set to: ru_RU.UTF-8
format_currency: 1 234,56 ₽
locale_sort: ['Ель', 'ёж', 'Юла', 'яблоко']

Гoтoвo.
```

## Структура проекта

```
l6/
├── README.md
├── main.py              # Главный модуль-демонстратор
└── app/
    ├── __init__.py
    ├── m1_catalog.py     # Каталог товаров и промокоды
    ├── m2_orders.py      # Управление заказами
    ├── m3_pricing.py     # Ценообразование
    ├── m4_random_tools.py # Инструменты случайности
    ├── m5_math_tools.py  # Математические утилиты
    ├── m6_locale_tools.py # Локализация
    └── m7_decimal_models.py # Денежные модели
```

## Особенности реализации

- **Модульная архитектура** - каждый модуль отвечает за свою область функциональности
- **Импорт-цепочки** - демонстрация сложных взаимосвязей между модулями
- **Точная арифметика** - использование `Decimal` для работы с деньгами
- **Локализация** - поддержка различных языков и форматов
- **Безопасность** - проверки типов и граничных условий

## Цель работы

Изучение принципов модульного программирования в Python:
- Создание переиспользуемых модулей
- Управление зависимостями между модулями
- Работа с системной локализацией
- Точные вычисления с денежными суммами
- Генерация и работа со случайными данными
- Математические вычисления и статистика